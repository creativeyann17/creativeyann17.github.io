{"version":3,"sources":["pages/Article.jsx"],"names":["connect","state","articles","getArticles","id","useParams","useState","timeout","setState","article","find","toString","useEffect","timeoutTimer","setTimeout","GLOBAL_REQUEST_TIMEOUT","clearTimeout","thumbnailUrl","THUMBNAILS_FOLDER","thumbnail","className","replace","RegExp","name","property","content","description","alt","src","width","height","source","ARTICLES_FOLDER","markdown","variant","animation","size"],"mappings":"qSA4EeA,uBANS,SAACC,GACvB,MAAO,CACLC,SAAUC,YAAYF,MAIXD,EAhEC,SAAC,GAAkB,IAAhBE,EAAe,EAAfA,SACTE,EAAOC,cAAPD,GADwB,EAENE,mBAAS,CAAEC,SAAS,IAFd,mBAEzBN,EAFyB,KAElBO,EAFkB,KAI1BC,EAAUC,IAAKR,GAAU,SAACO,GAAD,OAAaA,EAAQL,GAAGO,aAAeP,KAEtEQ,qBAAU,WACR,IAAIC,EAAeC,YACjB,kBAAMN,EAAS,2BAAKP,GAAN,IAAaM,SAAS,OACX,IAAzBQ,KAEF,OAAO,WACLC,aAAaH,OAIjB,IAAMI,EAAeR,EAAO,UAAMS,IAAN,YAA2BT,EAAQU,WAAc,GAE7E,OACE,cAAC,IAAD,CAAWC,UAAU,oBAArB,SACIX,EAaA,gCACE,eAAC,IAAD,WACE,gCAAQY,IAAQZ,EAAQL,GAAI,IAAIkB,OAAO,IAAK,KAAM,OAClD,sBAAMC,KAAK,QAAQC,SAAS,WAAWC,QAASR,IAChD,sBAAMM,KAAK,cAAcC,SAAS,iBAAiBC,QAAShB,EAAQiB,iBAEtE,qBACEN,UAAU,OACVO,IAAKlB,EAAQU,UACbS,IAAKX,EACLY,MAAO,OACPC,OAAQ,SAEV,sBAAKV,UAAU,kCAAf,UACE,cAAC,IAAD,CAAgBX,QAASA,IACzB,cAAC,IAAD,CAAaA,QAASA,OAExB,cAAC,IAAD,IACC,cAAC,IAAD,CAAUsB,OAAM,UAAKC,IAAL,YAAwBvB,EAAQwB,eA9BnD,8BACGhC,EAAMM,QACL,eAAC,IAAD,CAAO2B,QAAQ,UAAf,UACE,mDADF,IAC6B9B,KAG7B,eAAC,IAAD,CAAO8B,QAAQ,YAAf,UACE,qDADF,IAC+B9B,EAD/B,IACmC,cAAC,IAAD,CAAS+B,UAAU,SAASC,KAAK","file":"static/js/3.a679bd53.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Container, Spinner, Alert } from 'react-bootstrap';\nimport { useParams } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport find from 'lodash/find';\nimport { Helmet } from 'react-helmet';\nimport replace from 'lodash/replace';\nimport { TableOfContents } from '../components';\nimport { getArticles } from '../services/ArticlesService/selectors';\nimport { Markdown, ArticleDetails, SocialIcons } from '../components';\nimport { ARTICLES_FOLDER, THUMBNAILS_FOLDER, GLOBAL_REQUEST_TIMEOUT } from '../constants';\n\nconst Article = ({ articles }) => {\n  const { id } = useParams();\n  const [state, setState] = useState({ timeout: false });\n\n  const article = find(articles, (article) => article.id.toString() === id); // number != string\n\n  useEffect(() => {\n    let timeoutTimer = setTimeout(\n      () => setState({ ...state, timeout: true }),\n      GLOBAL_REQUEST_TIMEOUT * 1000\n    );\n    return () => {\n      clearTimeout(timeoutTimer);\n    };\n  });\n\n  const thumbnailUrl = article ? `${THUMBNAILS_FOLDER}/${article.thumbnail}` : '';\n\n  return (\n    <Container className=\"page page-article\">\n      {!article ? (\n        <div>\n          {state.timeout ? (\n            <Alert variant=\"warning\">\n              <b>Article not found:</b> {id}\n            </Alert>\n          ) : (\n            <Alert variant=\"secondary\">\n              <b>Looking for article:</b> {id} <Spinner animation=\"border\" size=\"sm\" />\n            </Alert>\n          )}\n        </div>\n      ) : (\n        <div>\n          <Helmet>\n            <title>{replace(article.id, new RegExp('-', 'g'), ' ')}</title>\n            <meta name=\"image\" property=\"og:image\" content={thumbnailUrl} />\n            <meta name=\"description\" property=\"og:description\" content={article.description} />\n          </Helmet>\n          <img\n            className=\"mb-3\"\n            alt={article.thumbnail}\n            src={thumbnailUrl}\n            width={'100%'}\n            height={'auto'}\n          />\n          <div className=\"d-flex justify-content-between \">\n            <ArticleDetails article={article} />\n            <SocialIcons article={article} />\n          </div>\n          <TableOfContents />\n          {<Markdown source={`${ARTICLES_FOLDER}/${article.markdown}`} />}\n        </div>\n      )}\n    </Container>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    articles: getArticles(state),\n  };\n};\n\nexport default connect(mapStateToProps)(Article);\n"],"sourceRoot":""}